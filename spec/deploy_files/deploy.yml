# Deploy example sheet for a Symfony 1.4 and MySQL project
#
# Author::    Jose A Pio  (mailto:josetonyp@latizana.com)
# Copyright:: Copyright (c) 2011 
# License::   Distributes under the same terms as Ruby
#

## Configurations Parameters
config:
  framework: symfony
  system: git
  origin: "git@github.com:xxx"
  branch: master
  history_limit: 10
  # Databases for projects are optionals. In case of having one plase fill the next section to configure the backup process  
  database:
    backup: true
    dirver: mysql
    user: root
    pass: 
    
    
## Task actions for deployers
## At versi√≥n 1 deployers should know the task order 
do:

  # Folder structure defining the backup and mantainance folder behind the deployment process
  folder_structure:
    backup_mysql: 'backups/mysql/#{environment}'
    backup_files: 'backups/files/#{environment}'
    cache: 'cache/#{environment}'
    log: 'log/#{environment}'
    uploads: 'uploads/#{environment}'
    config: 'config/#{environment}'

  # Folder links from project folder and matainance folders
  folder_symbolic_links:
    cache: cache
    log: log
    uploads: web/uploads

  # Links to be build from mantainance falders files and project files.
  file_symbolic_link:
    config: 'config/databases.yml'
      
  # Files to be tested before deployment. This files must exists or deployment will rise an exception
  test_files:
    config: 'config/#{environment}/databases.yml'

