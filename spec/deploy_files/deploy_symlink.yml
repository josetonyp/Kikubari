# Deploy example sheet for a Symfony 1.4 and MySQL project
#
# Author::    Jose A Pio  (mailto:josetonyp@gmail.com)
# Copyright:: Copyright (c) 2011
# License::   Distributes under the same terms as Ruby
#

## Configurations Parameters
config:

## Task actions for deployers
## At versi√≥n 1 deployers should know the task order
do:

  # Folder structure defining the backup and mantainance folder behind the deployment process
  folder_structure:
    cache: 'cache/#{environment}'
    config: 'config/#{environment}'

  # Folder links from project folder and matainance folders
  folder_symbolic_links:
    #name: #destination_name
    cache: cache
    config: config

  # Files to be tested before deployment. This files must exists or deployment will rise an exception
  # named_file: origin
  test_files:
    config: 'config/#{environment}/databases.yml'

  # Links to be build from tested files. Only tested files can be converted in symlinks to the project
  # named_file: destination
  file_symbolic_link:
    config: 'config/databases.yml'

after:
  run:
    - 'mkdir new_folder'
